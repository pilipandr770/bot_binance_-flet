# Торговый бот с мульти-индикаторной стратегией

Этот бот поддерживает две торговые стратегии:

1. **SIMPLE_MA**: Простая стратегия на основе пересечения MA7/MA25
2. **MA_RSI_ATR**: Расширенная стратегия с мульти-таймфреймовым анализом

## Описание стратегии MA_RSI_ATR

Эта стратегия анализирует данные на нескольких таймфреймах:

- **30-минутные свечи**: Определение краткосрочного сигнала на основе MA7/MA25
- **1-часовые свечи**: Анализ RSI и ATR для определения волатильности и силы тренда
- **4-часовые свечи**: Определение долгосрочного тренда на основе MA7/MA25

### Условия для торговли:

1. **Флет (бот отключен)**:
   - ATR < 0.5% от цены
   - RSI между 45-55
   - 4h тренд боковой

2. **Выход из флета (сигнал на покупку)**:
   - ATR >= 0.5% от цены
   - RSI > 55 или RSI < 45
   - 30m сигнал = "long"
   - 4h тренд = "long"

3. **Выход из флета (сигнал на продажу)**:
   - ATR >= 0.5% от цены
   - RSI > 55 или RSI < 45
   - 30m сигнал = "short"
   - 4h тренд = "short"

## Установка

1. Убедитесь, что у вас установлен Python 3.8+
2. Установите зависимости:

```bash
pip install -r requirements.txt
```

## Настройка стратегии

Для выбора стратегии и настройки режима мульти-таймфреймов измените следующие константы в файле `bot.py`:

```python
# Константы для стратегии
STRATEGY_TYPE = "MA_RSI_ATR"  # или "SIMPLE_MA" для старой стратегии
USE_MULTI_TIMEFRAME = True  # Использовать ли несколько таймфреймов
```

## Запуск

```bash
cd app
python bot.py
```

## API endpoints

- `/start` - Запустить бота
- `/stop` - Остановить бота
- `/status` - Получить текущий статус бота
